<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åƒäº†å—</title>
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: "PingFang SC", "Microsoft YaHei", Arial, sans-serif;
      background: #f7f7f7;
      color: #333;
    }
    .container {
      max-width: 480px;
      margin: 0 auto;
      background: #e8f5e9;
      min-height: 100vh;
      box-shadow: 0 0 8px #b2dfdb;
    }
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #43a047;
      padding: 16px 12px 8px 12px;
      position: relative;
      min-height: 80px;
    }
    .restaurant-select {
      display: flex;
      align-items: center;
      cursor: pointer;
      color: #fff;
      font-size: 1em;
      position: relative;
    }
    .restaurant-select .icon {
      margin-right: 4px;
      font-size: 1.1em;
    }
    .dropdown {
      display: none;
      position: absolute;
      left: 0;
      top: 36px;
      background: #fff;
      color: #333;
      border-radius: 6px;
      box-shadow: 0 2px 8px #81c784;
      z-index: 10;
      min-width: 120px;
    }
    .dropdown.active {
      display: block;
    }
    .dropdown div {
      padding: 8px 16px;
      cursor: pointer;
    }
    .dropdown div:hover {
      background: #e8f5e9;
    }
    .topbar-logo {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
      top: 6px;
    }
    .logo {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      background: none;
      box-shadow: none;
      margin: 0 auto 2px auto;
      display: block;
    }
    .header {
      font-family: "Ma Shan Zheng", cursive;
      font-size: 1.1em;
      color: #fff;
      margin-top: 0px;
      margin-bottom: 2px;
      letter-spacing: 2px;
      text-align: center;
    }
    .map-btn {
      background: none;
      border: none;
      outline: none;
      cursor: pointer;
      color: #fff;
      font-size: 1.5em;
      display: flex;
      align-items: center;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #a5d6a7;
      background: #c8e6c9;
      margin-top: 10px;
    }
    .tab {
      flex: 1;
      text-align: center;
      padding: 12px 0;
      cursor: pointer;
      font-size: 1.1em;
      color: #388e3c;
      transition: color 0.2s;
    }
    .tab.active {
      color: #fff;
      border-bottom: 2px solid #388e3c;
      background: #43a047;
    }
    .meal-list {
      display: none;
      padding: 16px;
    }
    .meal-list.active {
      display: block;
    }
    .section-title {
      font-weight: bold;
      margin: 16px 0 8px 0;
      font-size: 1.1em;
      color: #2e7d32;
    }
    .section-title-recommend {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 16px 0 8px 0;
      font-size: 1.1em;
      color: #2e7d32;
      font-weight: bold;
    }
    .section-title-recommend .discount-btn {
      margin-bottom: 0;
      margin-left: 10px;
    }
    .recommend {
      background: #b9f6ca;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
    }
    .recommend-item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    .recommend-item img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      margin-right: 12px;
      object-fit: cover;
      background: #e0f2f1;
      box-shadow: 0 1px 4px #a5d6a7;
    }
    .recommend-info {
      flex: 1;
    }
    .recommend-info .price {
      color: #e53935;
      font-weight: bold;
    }
    .recommend-info .location {
      color: #388e3c;
      font-size: 0.9em;
    }
    .dish-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .dish-item {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 10px;
      padding: 12px;
      box-shadow: 0 1px 4px #b2dfdb;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .dish-item .price {
      color: #e53935;
      font-weight: bold;
    }
    .dish-item .location {
      color: #388e3c;
      font-size: 0.9em;
      margin-left: 8px;
    }
    .discount-btn {
      display: inline-block;
      margin-bottom: 10px;
      padding: 8px 18px;
      background: #43a047;
      color: #fff;
      border-radius: 20px;
      font-size: 1em;
      text-decoration: none;
      font-weight: bold;
      box-shadow: 0 2px 6px #b2dfdb;
      transition: background 0.2s;
    }
    .discount-btn:hover {
      background: #388e3c;
    }
    .discount-btn-wrapper {
      text-align: right;
      margin-bottom: 10px;
    }
    @media (max-width: 600px) {
      .container {
        max-width: 100vw;
        box-shadow: none;
      }
      .logo {
        width: 40px;
        height: 40px;
      }
    }
    .profile-header {
      position: relative;
      background: linear-gradient(135deg, #43a047 0%, #a5d6a7 100%);
      height: 80px;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 36px;
      z-index: 1;
    }
    .profile-bg {
      position: absolute;
      left: 0; top: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, #43a047 0%, #a5d6a7 100%);
      z-index: 0;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
    }
    .profile-title {
      position: relative;
      z-index: 1;
      color: #fff;
      font-size: 1.6em;
      font-weight: bold;
      margin-top: 32px;
      letter-spacing: 4px;
      text-shadow: 0 2px 8px #388e3c44;
    }
    .profile-close {
      position: absolute;
      right: 16px;
      top: 16px;
      color: #fff;
      font-size: 2em;
      cursor: pointer;
      z-index: 2;
      display: none;
    }
    .profile-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: -36px;
      margin-bottom: 16px;
      z-index: 2;
      position: relative;
    }
    .profile-avatar {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      border: 4px solid #fff;
      background: #fff;
      object-fit: cover;
      margin-bottom: 8px;
      box-shadow: 0 2px 8px #b2dfdb;
    }
    .profile-hello {
      font-size: 1.1em;
      color: #333;
      margin-bottom: 2px;
    }
    .profile-desc {
      color: #666;
      font-size: 1em;
      margin-bottom: 8px;
    }
    .profile-balance-card {
      display: flex;
      justify-content: space-around;
      background: #fff;
      border-radius: 16px;
      margin: 0 16px;
      padding: 16px 0 8px 0;
      box-shadow: 0 2px 8px #b2dfdb;
    }
    .profile-balance-item {
      flex: 1;
      text-align: center;
    }
    .profile-balance-label {
      color: #888;
      font-size: 1em;
      margin-bottom: 4px;
    }
    .profile-balance-value {
      color: #222;
      font-size: 2em;
      font-weight: bold;
      margin-bottom: 4px;
    }
    .profile-balance-btns {
      display: flex;
      justify-content: space-around;
      margin: 12px 16px 0 16px;
    }
    .profile-btn {
      flex: 1;
      margin: 0 8px;
      padding: 10px 0;
      border-radius: 24px;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    .profile-btn-orange {
      background: #43a047;
      color: #fff;
    }
    .profile-btn-outline {
      background: #fff;
      color: #43a047;
      border: 2px solid #43a047;
    }
    .profile-section {
      background: #fff;
      border-radius: 16px;
      margin: 16px 16px 0 16px;
      padding: 12px 0 8px 0;
      box-shadow: 0 2px 8px #b2dfdb;
    }
    .profile-section-title {
      color: #2e7d32;
      font-size: 1.1em;
      font-weight: bold;
      margin: 0 16px 8px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .profile-section-more {
      color: #888;
      font-size: 0.95em;
      font-weight: normal;
      cursor: pointer;
    }
    .profile-orders {
      display: flex;
      justify-content: space-around;
      margin: 8px 0 0 0;
    }
    .profile-order-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #333;
      font-size: 1em;
    }
    .profile-order-icon {
      font-size: 2em;
      margin-bottom: 4px;
    }
    .profile-benefits {
      display: flex;
      margin: 8px 0 0 16px;
    }
    .profile-benefit-item {
      display: flex;
      align-items: center;
      color: #333;
      font-size: 1em;
    }
    .profile-benefit-icon {
      font-size: 2em;
      margin-right: 8px;
    }
    .profile-footer {
      text-align: center;
      color: #bdbdbd;
      margin: 32px 0 0 0;
      font-size: 0.95em;
    }
    .profile-footer-logo {
      font-weight: bold;
      font-size: 1.1em;
      margin-bottom: 2px;
    }
    .bottom-nav {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      width: 100vw;
      max-width: 480px;
      height: 56px;
      background: #fff;
      box-shadow: 0 -2px 8px #b2dfdb;
      display: flex;
      justify-content: space-around;
      align-items: center;
      z-index: 100;
    }
    .nav-item {
      flex: 1;
      text-align: center;
      color: #888;
      font-size: 1em;
      cursor: pointer;
      padding: 4px 0 0 0;
    }
    .nav-item.active, .nav-item:active {
      color: #43a047;
    }
    .nav-icon {
      font-size: 1.6em;
      display: block;
      margin-bottom: 2px;
    }
    .nav-icon-active {
      color: #ff9800;
    }
    .popup-mask {
      position: fixed;
      left: 0; top: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.4);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .popup-content {
      background: #fff;
      border-radius: 12px;
      padding: 40px 24px 24px 24px;
      position: relative;
      box-shadow: 0 4px 24px #b2dfdb;
      text-align: center;
      max-width: 90vw;
      max-height: 80vh;
    }
    .popup-close {
      position: absolute;
      right: 18px;
      top: 18px;
      font-size: 2em;
      color: #43a047;
      cursor: pointer;
      font-weight: bold;
      line-height: 1;
    }
    .popup-img {
      max-width: 240px;
      max-height: 60vh;
      border-radius: 8px;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="container" id="home-page">
    <div class="topbar">
      <div class="restaurant-select" onclick="toggleDropdown()">
        <span class="icon">ğŸ“</span>
        <span id="current-restaurant">å­¦è‹‘é£Ÿå ‚</span>
        <span style="margin-left:4px;">&#9662;</span>
        <div class="dropdown" id="dropdown">
          <div onclick="selectRestaurant('å­¦è‹‘é£Ÿå ‚')">å­¦è‹‘é£Ÿå ‚</div>
          <div onclick="selectRestaurant('æ˜æ¹–é¤å…')">æ˜æ¹–é¤å…</div>
        </div>
      </div>
      <div class="topbar-logo">
        <img src="çœ¼é•œè›‡.png" alt="Logo" class="logo">
        <div class="header">åƒäº†å—</div>
      </div>
      <button class="map-btn" onclick="showMap()" title="æŸ¥çœ‹åœ°å›¾">ğŸ—ºï¸</button>
    </div>
    <div class="tabs">
      <div class="tab active" onclick="showMeal(0)">æ—©é¤</div>
      <div class="tab" onclick="showMeal(1)">åˆé¤</div>
      <div class="tab" onclick="showMeal(2)">æ™šé¤</div>
    </div>
    <!-- æ—©é¤ -->
    <div class="meal-list active" id="meal-0">
      <div class="section-title-recommend">
        <span>æ™ºèƒ½æ¨èèœå“</span>
        <a href="https://mp.weixin.qq.com/s/K9PdT4xR4x5zMrz6y5VjsA" target="_blank" class="discount-btn">æœ¬å‘¨ä¼˜æƒ èœå•</a>
      </div>
      <div class="recommend">
        <div class="recommend-item">
          <img src="çš®è›‹ç˜¦è‚‰ç²¥.jfif" alt="çš®è›‹ç˜¦è‚‰ç²¥">
          <div class="recommend-info">
            <div>çš®è›‹ç˜¦è‚‰ç²¥</div>
            <div class="price">ï¿¥4</div>
            <div class="location">æ¡£å£ï¼šAåŒº</div>
          </div>
        </div>
        <div class="recommend-item">
          <img src="è±†æµ†æ²¹æ¡.jfif" alt="è±†æµ†æ²¹æ¡">
          <div class="recommend-info">
            <div>è±†æµ†æ²¹æ¡</div>
            <div class="price">ï¿¥5</div>
            <div class="location">æ¡£å£ï¼šBåŒº</div>
          </div>
        </div>
      </div>
      <div class="section-title">å…¨éƒ¨èœå“</div>
      <ul class="dish-list">
        <li class="dish-item">å°ç¬¼åŒ… <span class="price">ï¿¥4</span><span class="location">æ¡£å£ï¼šAåŒº</span></li>
        <li class="dish-item">é¸¡è›‹çŒé¥¼ <span class="price">ï¿¥5</span><span class="location">æ¡£å£ï¼šBåŒº</span></li>
        <li class="dish-item">è‘±æ²¹é¥¼ <span class="price">ï¿¥4</span><span class="location">æ¡£å£ï¼šBåŒº</span></li>
      </ul>
    </div>
    <!-- åˆé¤ -->
    <div class="meal-list" id="meal-1">
      <div class="section-title-recommend">
        <span>æ™ºèƒ½æ¨èèœå“</span>
        <a href="https://mp.weixin.qq.com/s/K9PdT4xR4x5zMrz6y5VjsA" target="_blank" class="discount-btn">æœ¬å‘¨ä¼˜æƒ èœå•</a>
      </div>
      <div class="recommend">
        <div class="recommend-item">
          <img src="å®«ä¿é¸¡ä¸.jfif" alt="å®«ä¿é¸¡ä¸">
          <div class="recommend-info">
            <div>å®«ä¿é¸¡ä¸</div>
            <div class="price">ï¿¥12</div>
            <div class="location">æ¡£å£ï¼šDåŒº</div>
          </div>
        </div>
        <div class="recommend-item">
          <img src="é±¼é¦™è‚‰ä¸.jfif" alt="é±¼é¦™è‚‰ä¸">
          <div class="recommend-info">
            <div>é±¼é¦™è‚‰ä¸ç›–é¥­</div>
            <div class="price">ï¿¥15</div>
            <div class="location">æ¡£å£ï¼šEåŒº</div>
          </div>
        </div>
      </div>
      <div class="section-title">å…¨éƒ¨èœå“</div>
      <ul class="dish-list">
        <li class="dish-item">çº¢çƒ§æ’éª¨ <span class="price">ï¿¥12</span><span class="location">æ¡£å£ï¼šDåŒº</span></li>
        <li class="dish-item">è¥¿çº¢æŸ¿ç‚’è›‹ <span class="price">ï¿¥8</span><span class="location">æ¡£å£ï¼šEåŒº</span></li>
        <li class="dish-item">é’æ¤’åœŸè±†ä¸ <span class="price">ï¿¥6</span><span class="location">æ¡£å£ï¼šFåŒº</span></li>
      </ul>
    </div>
    <!-- æ™šé¤ -->
    <div class="meal-list" id="meal-2">
      <div class="section-title-recommend">
        <span>æ™ºèƒ½æ¨èèœå“</span>
        <a href="https://mp.weixin.qq.com/s/K9PdT4xR4x5zMrz6y5VjsA" target="_blank" class="discount-btn">æœ¬å‘¨ä¼˜æƒ èœå•</a>
      </div>
      <div class="recommend">
        <div class="recommend-item">
          <img src="ç•ªèŒ„ç‰›è…©.jpg" alt="ç•ªèŒ„ç‰›è…©">
          <div class="recommend-info">
            <div>ç•ªèŒ„ç‰›è…©</div>
            <div class="price">ï¿¥16.8</div>
            <div class="location">æ¡£å£ï¼šGåŒº</div>
          </div>
        </div>
        <div class="recommend-item">
          <img src="æ¸…ç‚’æ—¶è”¬.jfif" alt="æ¸…ç‚’æ—¶è”¬">
          <div class="recommend-info">
            <div>æ¸…ç‚’æ—¶è”¬</div>
            <div class="price">ï¿¥7</div>
            <div class="location">æ¡£å£ï¼šHåŒº</div>
          </div>
        </div>
      </div>
      <div class="section-title">å…¨éƒ¨èœå“</div>
      <ul class="dish-list">
        <li class="dish-item">éº»å©†è±†è… <span class="price">ï¿¥7</span><span class="location">æ¡£å£ï¼šGåŒº</span></li>
        <li class="dish-item">è’œè“‰ç”Ÿèœ <span class="price">ï¿¥5</span><span class="location">æ¡£å£ï¼šHåŒº</span></li>
        <li class="dish-item">çº¢çƒ§èŒ„å­ <span class="price">ï¿¥6</span><span class="location">æ¡£å£ï¼šIåŒº</span></li>
      </ul>
    </div>
  </div>
  <div class="container" id="profile-page" style="display:none;">
    <div class="profile-header">
      <div class="profile-bg"></div>
      <div class="profile-title">ä¸ªäººä¸­å¿ƒ</div>
      <div class="profile-close">Ã—</div>
    </div>
    <div class="profile-info">
      <img src="çœ¼é•œè›‡.png" class="profile-avatar" alt="å¤´åƒ">
      <div class="profile-hello">Hello, <span id="profile-name">ç”¨æˆ·</span></div>
      <div class="profile-desc">å”¯æœ‰æ¢¦æƒ³å’Œç¾é£Ÿä¸å¯è¾œè´Ÿ</div>
    </div>
    <div class="profile-balance-card">
      <div class="profile-balance-item">
        <div class="profile-balance-label">ä½™é¢</div>
        <div class="profile-balance-value" id="profile-balance">999.99</div>
      </div>
      <div class="profile-balance-item">
        <div class="profile-balance-label">è¡¥è´´</div>
        <div class="profile-balance-value" id="profile-subsidy">0.00</div>
      </div>
    </div>
    <div class="profile-balance-btns">
      <button class="profile-btn profile-btn-orange" onclick="showRechargePopup()">ç«‹å³å……å€¼</button>
      <button class="profile-btn profile-btn-outline">å¼€é€šè‡ªåŠ¨å……</button>
    </div>
    <div class="profile-section">
      <div class="profile-section-title">æˆ‘çš„è®¢å• <span class="profile-section-more" onclick="showAllOrders()">æŸ¥çœ‹å…¨éƒ¨ &gt;</span></div>
      <div class="profile-orders">
        <div class="profile-order-item" onclick="showPaidOrders()"><span class="profile-order-icon">ï¿¥</span><div>å·²ä»˜æ¬¾</div></div>
        <div class="profile-order-item" onclick="showRefundOrders()"><span class="profile-order-icon">âŸ³</span><div>é€€æ¬¾/å”®å</div></div>
      </div>
    </div>
  </div>
  <div class="bottom-nav">
    <div class="nav-item" id="nav-home" onclick="showPage('home')">
      <span class="nav-icon">ğŸ””</span>
      <div>é¦–é¡µ</div>
    </div>
    <div class="nav-item" id="nav-profile" onclick="showPage('profile')">
      <span class="nav-icon nav-icon-active">ğŸ˜Š</span>
      <div>ä¸ªäººä¸­å¿ƒ</div>
    </div>
  </div>
  <div id="recharge-popup" class="popup-mask" style="display:none;">
    <div class="popup-content">
      <span class="popup-close" onclick="closeRechargePopup()">Ã—</span>
      <img src="æ”¶æ¬¾ç .png" alt="å……å€¼äºŒç»´ç " class="popup-img">
      <div style="color: #e53935; font-size: 0.95em; margin-top: 8px;">
        ä»…ä¾›å¨±ä¹ï¼ï¼ï¼ä¸è¦å……å€¼ï¼ï¼ï¼å¦‚æœä½ çœŸçš„æƒ³æŠ•å–‚ï¼Œé‚£æˆ‘æ— åŠ›æŒ½å›ğŸ˜‹
      </div>
    </div>
  </div>
  <div id="order-popup" class="popup-mask" style="display:none;">
    <div class="popup-content">
      <span class="popup-close" onclick="closeOrderPopup()">Ã—</span>
      <div id="order-popup-content"></div>
    </div>
  </div>
  <script>
    // é¤å…èœå“æ•°æ®
    const restaurantData = {
      "å­¦è‹‘é£Ÿå ‚": {
        breakfast: {
          recommend: [
            { name: "çš®è›‹ç˜¦è‚‰ç²¥", img: "çš®è›‹ç˜¦è‚‰ç²¥.jfif", price: 4, location: "AåŒº" },
            { name: "è±†æµ†æ²¹æ¡", img: "è±†æµ†æ²¹æ¡.jfif", price: 5, location: "BåŒº" }
          ],
          all: [
            { name: "å°ç¬¼åŒ…", price: 4, location: "AåŒº" },
            { name: "é¸¡è›‹çŒé¥¼", price: 5, location: "BåŒº" },
            { name: "è‘±æ²¹é¥¼", price: 4, location: "BåŒº" }
          ]
        },
        lunch: {
          recommend: [
            { name: "å®«ä¿é¸¡ä¸", img: "å®«ä¿é¸¡ä¸.jfif", price: 12, location: "DåŒº" },
            { name: "é±¼é¦™è‚‰ä¸ç›–é¥­", img: "é±¼é¦™è‚‰ä¸.jfif", price: 15, location: "EåŒº" }
          ],
          all: [
            { name: "çº¢çƒ§æ’éª¨", price: 12, location: "DåŒº" },
            { name: "è¥¿çº¢æŸ¿ç‚’è›‹", price: 8, location: "EåŒº" },
            { name: "é’æ¤’åœŸè±†ä¸", price: 6, location: "FåŒº" }
          ]
        },
        dinner: {
          recommend: [
            { name: "ç•ªèŒ„ç‰›è…©", img: "ç•ªèŒ„ç‰›è…©.jpg", price: 16.8, location: "GåŒº" },
            { name: "æ¸…ç‚’æ—¶è”¬", img: "æ¸…ç‚’æ—¶è”¬.jfif", price: 7, location: "HåŒº" }
          ],
          all: [
            { name: "éº»å©†è±†è…", price: 7, location: "GåŒº" },
            { name: "è’œè“‰ç”Ÿèœ", price: 5, location: "HåŒº" },
            { name: "çº¢çƒ§èŒ„å­", price: 6, location: "IåŒº" }
          ]
        }
      },
      "æ˜æ¹–é¤å…": {
        breakfast: {
          recommend: [
            { name: "ç‰›å¥¶ç‡•éº¦ç²¥", img: "ç‰›å¥¶ç‡•éº¦ç²¥.jfif", price: 6, location: "AåŒº" },
            { name: "ç…é¥º", img: "ç…é¥º.jfif", price: 5, location: "BåŒº" }
          ],
          all: [
            { name: "è±†æ²™åŒ…", price: 3, location: "AåŒº" },
            { name: "è›‹æŒ", price: 4, location: "BåŒº" },
            { name: "ç‰ç±³æ£’", price: 2, location: "CåŒº" }
          ]
        },
        lunch: {
          recommend: [
            { name: "æ˜æ¹–çƒ¤é¸­", img: "æ˜æ¹–çƒ¤é¸­.jfif", price: 23.5, location: "DåŒº" },
            { name: "ç³–é†‹é‡Œè„Š", img: "ç³–é†‹é‡Œè„Š.jpg", price: 14, location: "EåŒº" }
          ],
          all: [
            { name: "é±¼é¦™èŒ„å­", price: 8, location: "DåŒº" },
            { name: "é’æ¤’è‚‰ä¸", price: 10, location: "EåŒº" },
            { name: "åœŸè±†ç‚–ç‰›è…©", price: 16, location: "FåŒº" }
          ]
        },
        dinner: {
          recommend: [
            { name: "æ˜æ¹–çƒ¤é¸­", img: "æ˜æ¹–çƒ¤é¸­.jfif", price: 23.5, location: "DåŒº" },
            { name: "çƒ¤é¸¡è…¿", img: "çƒ¤é¸¡è…¿.jfif", price: 12, location: "GåŒº" },
          ],
          all: [
            { name: "çº¢çƒ§è±†è…", price: 7, location: "GåŒº" },
            { name: "å‡‰æ‹Œé»„ç“œ", price: 4, location: "HåŒº" },
            { name: "ç‚’é¢", price: 8, location: "IåŒº" }
          ]
        }
      }
    };
    let currentRestaurant = document.getElementById('current-restaurant').innerText.trim();
    let currentMeal = 0; // 0:æ—©é¤ 1:åˆé¤ 2:æ™šé¤

    function selectRestaurant(name) {
      document.getElementById('current-restaurant').innerText = name;
      document.getElementById('dropdown').classList.remove('active');
      currentRestaurant = name;
      renderMealList();
    }
    function showMeal(idx) {
      currentMeal = idx;
      const tabs = document.querySelectorAll('.tab');
      const lists = document.querySelectorAll('.meal-list');
      tabs.forEach((tab, i) => {
        tab.classList.toggle('active', i === idx);
        lists[i].classList.toggle('active', i === idx);
      });
      renderMealList();
    }
    function renderMealList() {
      const mealTypes = ["breakfast", "lunch", "dinner"];
      const meal = restaurantData[currentRestaurant][mealTypes[currentMeal]];
      // æ¨èèœå“
      let recommendHtml = '';
      meal.recommend.forEach(item => {
        recommendHtml += `
          <div class="recommend-item">
            <img src="${item.img}" alt="${item.name}">
            <div class="recommend-info">
              <div>${item.name}</div>
              <div class="price">ï¿¥${item.price}</div>
              <div class="location">æ¡£å£ï¼š${item.location}</div>
            </div>
          </div>
        `;
      });
      // å…¨éƒ¨èœå“
      let allHtml = '';
      meal.all.forEach(item => {
        allHtml += `<li class="dish-item">${item.name} <span class="price">ï¿¥${item.price}</span><span class="location">æ¡£å£ï¼š${item.location}</span></li>`;
      });
      // æ¸²æŸ“åˆ°å½“å‰æ¿€æ´»çš„meal-list
      const mealLists = document.querySelectorAll('.meal-list');
      mealLists.forEach((list, idx) => {
        if(idx === currentMeal) {
          list.querySelector('.recommend').innerHTML = recommendHtml;
          list.querySelector('.dish-list').innerHTML = allHtml;
        }
      });
    }
    // é¡µé¢åˆå§‹æ¸²æŸ“
    document.addEventListener('DOMContentLoaded', function() {
      renderMealList();
    });
    function toggleDropdown() {
      document.getElementById('dropdown').classList.toggle('active');
    }
    function showMap() {
      alert('è¿™é‡Œå¯ä»¥å¼¹å‡ºåœ°å›¾ï¼Œæˆ–è·³è½¬åˆ°åœ°å›¾é¡µé¢');
    }
    // ç‚¹å‡»å¤–éƒ¨å…³é—­ä¸‹æ‹‰
    document.addEventListener('click', function(e){
      if(!e.target.closest('.restaurant-select')){
        document.getElementById('dropdown').classList.remove('active');
      }
    });
    function showPage(page) {
      if(page === 'home') {
        document.getElementById('home-page').style.display = '';
        document.getElementById('profile-page').style.display = 'none';
        document.getElementById('nav-home').classList.add('active');
        document.getElementById('nav-profile').classList.remove('active');
      } else {
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('profile-page').style.display = '';
        document.getElementById('nav-home').classList.remove('active');
        document.getElementById('nav-profile').classList.add('active');
      }
    }
    function showRechargePopup() {
      document.getElementById('recharge-popup').style.display = 'flex';
    }
    function closeRechargePopup() {
      document.getElementById('recharge-popup').style.display = 'none';
    }
    function showPaidOrders() {
      document.getElementById('order-popup-content').innerHTML = '<div style="font-size:1.3em;color:#888;font-weight:bold;">æ— è®¢å•ä¿¡æ¯</div>';
      document.getElementById('order-popup').style.display = 'flex';
    }
    function showRefundOrders() {
      document.getElementById('order-popup-content').innerHTML = '<div style="font-size:1.3em;color:#888;font-weight:bold;">æ— è®¢å•ä¿¡æ¯</div>';
      document.getElementById('order-popup').style.display = 'flex';
    }
    function showAllOrders() {
      document.getElementById('order-popup-content').innerHTML = `
        <div style="display:flex;gap:56px;justify-content:center;align-items:flex-start;">
          <div style="text-align:center;min-width:90px;">
            <div style="font-weight:bold;color:#43a047;margin-bottom:18px;font-size:1.15em;">å·²ä»˜æ¬¾</div>
            <div style="font-size:1.15em;color:#888;font-weight:bold;">æ— è®¢å•ä¿¡æ¯</div>
          </div>
          <div style="text-align:center;min-width:90px;">
            <div style="font-weight:bold;color:#43a047;margin-bottom:18px;font-size:1.15em;">é€€æ¬¾/å”®å</div>
            <div style="font-size:1.15em;color:#888;font-weight:bold;">æ— è®¢å•ä¿¡æ¯</div>
          </div>
        </div>
      `;
      document.getElementById('order-popup').style.display = 'flex';
    }
    function closeOrderPopup() {
      document.getElementById('order-popup').style.display = 'none';
    }
  </script>
</body>
</html>